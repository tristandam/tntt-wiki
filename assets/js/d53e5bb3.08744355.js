"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[14031],{82082:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return o},default:function(){return h},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var n,r=a(83117),l=a(80102),i=(a(67294),a(3905)),d=["components"],s={description:"IOTA Client Library user-friendly API specifications.",image:"/img/logo/iota_mark_light.png",keywords:["definition","message","return","types","parameters","address","account"]},o=void 0,p={unversionedId:"specs",id:"specs",title:"specs",description:"IOTA Client Library user-friendly API specifications.",source:"@site/external/iota.rs/documentation/docs/specs.md",sourceDirName:".",slug:"/specs",permalink:"/iota.rs/specs",editUrl:"https://github.com/iotaledger/iota.rs/edit/mainnet/external/iota.rs/documentation/docs/specs.md",tags:[],version:"current",frontMatter:{description:"IOTA Client Library user-friendly API specifications.",image:"/img/logo/iota_mark_light.png",keywords:["definition","message","return","types","parameters","address","account"]},sidebar:"docs",previous:{title:"api_reference",permalink:"/iota.rs/libraries/wasm/api_reference"},next:{title:"troubleshooting",permalink:"/iota.rs/troubleshooting"}},u={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Builder",id:"builder",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Return",id:"return",level:3},{value:"On initialization",id:"on-initialization",level:2},{value:"Sync Process",id:"sync-process",level:2},{value:"<code>message()</code>",id:"message",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Return",id:"return-1",level:3},{value:"Implementation Details",id:"implementation-details",level:3},{value:"<code>get_message()</code>",id:"get_message",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"Returns",id:"returns",level:3},{value:"<code>find_messages()</code>",id:"find_messages",level:2},{value:"Parameters",id:"parameters-3",level:3},{value:"Returns",id:"returns-1",level:3},{value:"<code>get_unspent_address()</code>",id:"get_unspent_address",level:2},{value:"Parameters",id:"parameters-4",level:3},{value:"Return",id:"return-2",level:3},{value:"Implementation Details",id:"implementation-details-1",level:3},{value:"<code>get_addresses()</code>",id:"get_addresses",level:2},{value:"Parameters",id:"parameters-5",level:3},{value:"Return",id:"return-3",level:3},{value:"<code>get_balance()</code>",id:"get_balance",level:2},{value:"Parameters",id:"parameters-6",level:3},{value:"Return",id:"return-4",level:3},{value:"Implementation Details",id:"implementation-details-2",level:3},{value:"<code>get_address_balances()</code>",id:"get_address_balances",level:2},{value:"Parameters",id:"parameters-7",level:3},{value:"Return",id:"return-5",level:3},{value:"Implementation details:",id:"implementation-details-3",level:3},{value:"<code>generate_mnemonic()</code>",id:"generate_mnemonic",level:2},{value:"Return",id:"return-6",level:3},{value:"<code>mnemonic_to_hex_seed(mnemonic)</code>",id:"mnemonic_to_hex_seedmnemonic",level:2},{value:"Parameters",id:"parameters-8",level:3},{value:"Return",id:"return-7",level:3},{value:"<code>bech32_to_hex()</code>",id:"bech32_to_hex",level:2},{value:"Parameters",id:"parameters-9",level:3},{value:"Return",id:"return-8",level:3},{value:"<code>hex_to_bech32()</code>",id:"hex_to_bech32",level:2},{value:"Parameters",id:"parameters-10",level:3},{value:"Return",id:"return-9",level:3},{value:"<code>parse_bech32_address()</code>",id:"parse_bech32_address",level:2},{value:"Parameters",id:"parameters-11",level:3},{value:"Return",id:"return-10",level:3},{value:"<code>is_address_valid()</code>",id:"is_address_valid",level:2},{value:"Parameters",id:"parameters-12",level:3},{value:"Return",id:"return-11",level:3},{value:"<code>subscriber()</code>",id:"subscriber",level:2},{value:"Returns",id:"returns-2",level:3},{value:"<code>retry()</code>",id:"retry",level:2},{value:"Parameters",id:"parameters-13",level:3},{value:"Returns:",id:"returns-3",level:3},{value:"Implementation Details",id:"implementation-details-4",level:3},{value:"<code>retry_until_included()</code>",id:"retry_until_included",level:2},{value:"Parameters",id:"parameters-14",level:3},{value:"Returns:",id:"returns-4",level:3},{value:"<code>consolidate_funds()</code>",id:"consolidate_funds",level:2},{value:"Parameters",id:"parameters-15",level:3},{value:"Returns:",id:"returns-5",level:3},{value:"<code>reattach()</code>",id:"reattach",level:2},{value:"Parameters",id:"parameters-16",level:3},{value:"Returns",id:"returns-6",level:3},{value:"<code>promote()</code>",id:"promote",level:2},{value:"Parameters",id:"parameters-17",level:3},{value:"Returns",id:"returns-7",level:3},{value:"<code>get_health()</code>",id:"get_health",level:2},{value:"Parameters",id:"parameters-18",level:3},{value:"Returns",id:"returns-8",level:3},{value:"<code>get_peers()</code>",id:"get_peers",level:2},{value:"Parameters",id:"parameters-19",level:3},{value:"Returns",id:"returns-9",level:3},{value:"<code>get_info()</code>",id:"get_info",level:2},{value:"Parameters",id:"parameters-20",level:3},{value:"Returns",id:"returns-10",level:3},{value:"<code>get_tips()</code>",id:"get_tips",level:2},{value:"Parameters",id:"parameters-21",level:3},{value:"Returns",id:"returns-11",level:3},{value:"<code>post_message()</code>",id:"post_message",level:2},{value:"Parameters",id:"parameters-22",level:3},{value:"Returns",id:"returns-12",level:3},{value:"<code>get_output()</code>",id:"get_output",level:2},{value:"Parameters",id:"parameters-23",level:3},{value:"Returns",id:"returns-13",level:3},{value:"<code>get_address()</code>",id:"get_address",level:2},{value:"Parameters",id:"parameters-24",level:3},{value:"Returns",id:"returns-14",level:3},{value:"<code>find_outputs()</code>",id:"find_outputs",level:2},{value:"Parameters",id:"parameters-25",level:3},{value:"Returns",id:"returns-15",level:3},{value:"<code>get_milestone()</code>",id:"get_milestone",level:2},{value:"Parameters",id:"parameters-26",level:3},{value:"Returns",id:"returns-16",level:3},{value:"<code>get_milestone_utxo_changes()</code>",id:"get_milestone_utxo_changes",level:2},{value:"Parameters",id:"parameters-27",level:3},{value:"Returns",id:"returns-17",level:3},{value:"<code>get_receipts()</code>",id:"get_receipts",level:2},{value:"Returns",id:"returns-18",level:3},{value:"<code>get_receipts_migrated_at()</code>",id:"get_receipts_migrated_at",level:2},{value:"Returns",id:"returns-19",level:3},{value:"<code>get_treasury()</code>",id:"get_treasury",level:2},{value:"Returns",id:"returns-20",level:3},{value:"<code>get_included_message()</code>",id:"get_included_message",level:2},{value:"Parameters",id:"parameters-28",level:3},{value:"Returns",id:"returns-21",level:3},{value:"<code>MessageId</code>",id:"messageid",level:2},{value:"<code>Seed</code>",id:"seed",level:2},{value:"<code>Message</code>",id:"message-1",level:2},{value:"<code>MessageMetadata</code>",id:"messagemetadata",level:2},{value:"<code>OutputMetadata</code>",id:"outputmetadata",level:2},{value:"<code>Address</code>",id:"address",level:2},{value:"<code>AddressBalancePair</code>",id:"addressbalancepair",level:2},{value:"<code>Milestone</code>",id:"milestone",level:2},{value:"<code>Api</code>",id:"api",level:2},{value:"<code>BrokerOptions</code>",id:"brokeroptions",level:2},{value:"<code>Topic</code>",id:"topic",level:2}],k=(n="String",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)}),g={toc:m};function h(e){var t=e.components,a=(0,l.Z)(e,d);return(0,i.kt)("wrapper",(0,r.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"high-level-api-specification"},"High Level API Specification"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"This document specifies a user-friendly API to be used in the client libraries. The main implementation will be in Rust which will receive automatically compiled client libraries in other languages via C or Webassembly bindings. There are also many crates to support developers creating foreign function interfaces with native bindings."),(0,i.kt)("h2",{id:"builder"},"Builder"),(0,i.kt)("p",null,"The data structure to initialize the instance of the Higher level client library. This is always called first when starting a new interaction with the library. Note: This is the common approach to do initialization in Rust. Different languages might use different methods such as just calling an initialization function directly."),(0,i.kt)("h3",{id:"parameters"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"network")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Testnet"),(0,i.kt)("td",{parentName:"tr",align:null},"&str"),(0,i.kt)("td",{parentName:"tr",align:null},'Optional, the network type can be "testnet" or "mainnet". If no node url is provided, some default nodes are used for the specified network. Nodes that aren\'t in this network will be ignored.')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"node")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to connect to; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"primary_node")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, auth_name_pwd: Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to always connect first to, if multiple nodes are available. Optional JWT and or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"primary_pow_node")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, auth_name_pwd: Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to always connect first to when submitting a message with remote PoW, if multiple nodes are available. Will override primary_node in that case. With optional JWT or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"permanode")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, auth_name_pwd: Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a permanode. With optional JWT or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"node_auth")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&str, Option",(0,i.kt)(k,{mdxType:"String"}),", Option<(&str, &str)>"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of a node to connect to with optional JWT and or name and password for basic authentication; format: ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port"),', Some("JWT"), Some("name", "password")')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"nodes")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[&str]"),(0,i.kt)("td",{parentName:"tr",align:null},"A list of nodes to connect to; nodes are added with the ",(0,i.kt)("inlineCode",{parentName:"td"},"https://node:port")," format. The amount of nodes specified in quorum_size are randomly selected from this node list to check for quorum based on the quorum threshold. If quorum_size is not given the full list of nodes is checked.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"node_sync_interval")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Duration::from_secs(60)"),(0,i.kt)("td",{parentName:"tr",align:null},"std::time::Duration"),(0,i.kt)("td",{parentName:"tr",align:null},"The interval in milliseconds to check for node health and sync")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"node_sync_disabled")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"If disabled also unhealty nodes will be used")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"node_pool_urls")),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"A list of node_pool_urls from which nodes are added. The amount of nodes specified in quorum_size are randomly selected from this node list to check for quorum based on the quorum threshold. If quorum_size is not given the full list of nodes is checked.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"quorum")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"Define if quorum should be used for the requests")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"quorum_size")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"3"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Define how many nodes should be used for quorum")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"quorum_threshold")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"66"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Define the % of nodes that need to return the same response to accept it")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"request_timeout")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Duration::from_secs(30)"),(0,i.kt)("td",{parentName:"tr",align:null},"std::time::Duration"),(0,i.kt)("td",{parentName:"tr",align:null},"The amount of seconds a request can be outstanding to a node before it's considered timed out")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"api_timeout")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Api::GetInfo: Duration::from_secs(2)),",(0,i.kt)("br",null)," Api::GetHealth: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::GetPeers: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::GetMilestone: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::GetTips: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::PostMessage: Duration::from_secs(2),",(0,i.kt)("br",null),"Api::PostMessageWithRemotePow: Duration::from_secs(30),",(0,i.kt)("br",null),"Api::GetOutput: Duration::from_secs(2)"),(0,i.kt)("td",{parentName:"tr",align:null},"HashMap<",(0,i.kt)("a",{parentName:"td",href:"#Api"},"Api"),",",(0,i.kt)("br",null)," std::time::Duration>"),(0,i.kt)("td",{parentName:"tr",align:null},"The amount of milliseconds a request to a specific Api endpoint can be outstanding to a node before it's considered timed out.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"local_pow")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"True"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"If not defined it defaults to local PoW to offload node load times")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"tips_interval")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"15"),(0,i.kt)("td",{parentName:"tr",align:null},"u64"),(0,i.kt)("td",{parentName:"tr",align:null},"Time interval during PoW when new tips get requested.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"mqtt_broker_options")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"True,",(0,i.kt)("br",null),"Duration::from_secs(30),",(0,i.kt)("br",null),"True"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#BrokerOptions"},"BrokerOptions")),(0,i.kt)("td",{parentName:"tr",align:null},"If not defined the default values will be used")))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Note that there must be at least one node to build the instance successfully.")),(0,i.kt)("h3",{id:"return"},"Return"),(0,i.kt)("p",null,"Finalize the builder with ",(0,i.kt)("inlineCode",{parentName:"p"},"finish()")," will run the instance in the background. Users don\u2019t need to worry about the return object handling."),(0,i.kt)("h2",{id:"on-initialization"},"On initialization"),(0,i.kt)("p",null,"On initialisation, call getNodeInfo API. Check the health of each node in the node list, and put healty nodes, matching the PoW settings and network in a synced nodelist."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Node metadata"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"network"),(0,i.kt)("td",{parentName:"tr",align:null},"If this parameter does not match the global builder parameter, don't add it to the synced nodelist.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"pow"),(0,i.kt)("td",{parentName:"tr",align:null},"If the global local_pow parameter is set to false, then put only nodes with the PoW feature in the synced nodelist.")))),(0,i.kt)("h2",{id:"sync-process"},"Sync Process"),(0,i.kt)("p",null,"When a ",(0,i.kt)("inlineCode",{parentName:"p"},"Client")," instance (The instance which is used for calling the client APIs) is built, the status of each node listed is checked. If the returned status of the node information is healthy, which means the node is synced, then this node will be pushed into a ",(0,i.kt)("inlineCode",{parentName:"p"},"synced_nodes")," list. The rust-like pseudo code of ",(0,i.kt)("inlineCode",{parentName:"p"},"synced_nodes")," construction process follows. The process of syncing a node is repeated every 60 seconds or at the interval specified in the ",(0,i.kt)("inlineCode",{parentName:"p"},"node_sync_interval")," argument of the initializer if set."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"synced_nodes = Vec::new()\nfor node in node_pool_urls{\n   status = Client.get_info(node).await?;\n   if status == healthy{\n      synced_nodes.push(node)\n   }\n}\n")),(0,i.kt)("h1",{id:"general-high-level-api"},(0,i.kt)("inlineCode",{parentName:"h1"},"General high level API")),(0,i.kt)("p",null,"Here is the high level abstraction API collection with sensible default values for users easy to use."),(0,i.kt)("h2",{id:"message"},(0,i.kt)("inlineCode",{parentName:"h2"},"message()")),(0,i.kt)("p",null,"A generic send function for easily sending a message."),(0,i.kt)("h3",{id:"parameters-1"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"seed")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#Seed"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed of the account we are going to spend, only needed for transactions")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"account_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index, responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"initial_address_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The index from where to start looking for balance. Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"input")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"UtxoInput"),(0,i.kt)("td",{parentName:"tr",align:null},"Users can manually select their UtxoInputs instead of having automatically selected inputs.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"input_range")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0..100"),(0,i.kt)("td",{parentName:"tr",align:null},"Range"),(0,i.kt)("td",{parentName:"tr",align:null},"Custom range to search for the input addresses if custom inputs are provided.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"output")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"address: &","[String]",",",(0,i.kt)("br",null),"amount: u64"),(0,i.kt)("td",{parentName:"tr",align:null},"Address to send to and amount to send. Address needs to be Bech32 encoded.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"output_hex")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"address: &str,",(0,i.kt)("br",null),"amount: u64"),(0,i.kt)("td",{parentName:"tr",align:null},"Address to send to and amount to send. Address needs to be hex encoded.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[u8]"," / &str"),(0,i.kt)("td",{parentName:"tr",align:null},"An optional indexation key for an indexation payload. 1-64 bytes long.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"data")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"Vec","<","u8>"),(0,i.kt)("td",{parentName:"tr",align:null},"Optional data for the indexation payload.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"parents")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"1-8 optional parents ",(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId")," to be used.")))),(0,i.kt)("p",null,"Depending on the provided values this function will create a message with:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"no payload"),(0,i.kt)("li",{parentName:"ul"},"an indexation payload"),(0,i.kt)("li",{parentName:"ul"},"a transaction payload"),(0,i.kt)("li",{parentName:"ul"},"a transaction payload containing an indexation payload")),(0,i.kt)("h3",{id:"return-1"},"Return"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"#Message"},"Message")," object we build."),(0,i.kt)("h3",{id:"implementation-details"},"Implementation Details"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Validate inputs, such as address and seed to check if they are correct."),(0,i.kt)("li",{parentName:"ul"},"Check if account balance is bigger or equal to the value using method similar to ",(0,i.kt)("a",{parentName:"li",href:"#get_balance"},(0,i.kt)("inlineCode",{parentName:"a"},"get_balance()")),";"),(0,i.kt)("li",{parentName:"ul"},"Build and validate the message with signed transaction payload accordingly;"),(0,i.kt)("li",{parentName:"ul"},"Get tips using ",(0,i.kt)("a",{parentName:"li",href:"#get_tips"},(0,i.kt)("inlineCode",{parentName:"a"},"get_tips()")),";"),(0,i.kt)("li",{parentName:"ul"},"Perform proof-of-work locally (if not set to remote);"),(0,i.kt)("li",{parentName:"ul"},"Send the message using ",(0,i.kt)("a",{parentName:"li",href:"#post_messages"},(0,i.kt)("inlineCode",{parentName:"a"},"post_messages()")),";")),(0,i.kt)("h2",{id:"get_message"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_message()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /api/v1/messages"),")"),(0,i.kt)("p",null,"Endpoint collection all about GET messages."),(0,i.kt)("h3",{id:"parameters-2"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"&","[u8]"," / &str"),(0,i.kt)("td",{parentName:"tr",align:null},"An indexation key.")))),(0,i.kt)("h3",{id:"returns"},"Returns"),(0,i.kt)("p",null,"Depend on the final calling method, users could get different results they need:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata(&MessageId)"),": Return ",(0,i.kt)("a",{parentName:"li",href:"#MessageMetadata"},"MessageMetadata")," of the message."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"data(&MessageId)"),": Return a ",(0,i.kt)("a",{parentName:"li",href:"#Message"},"Message")," object."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"raw(&MessageId)"),": Return the raw data of given message."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"children(&MessageId)"),": Return the list of ",(0,i.kt)("a",{parentName:"li",href:"#MessageId"},"MessageId"),"s that reference a message by its identifier."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"index(&[u8] | &str)")," : Return the list of ",(0,i.kt)("a",{parentName:"li",href:"#MessageId"},"MessageId"),"s that have this str as indexation key")),(0,i.kt)("h2",{id:"find_messages"},(0,i.kt)("inlineCode",{parentName:"h2"},"find_messages()")),(0,i.kt)("p",null,"Find all messages by provided message IDs."),(0,i.kt)("h3",{id:"parameters-3"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"indexation_keys")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[&","[u8]"," / &str]"),(0,i.kt)("td",{parentName:"tr",align:null},"The index key of the indexation payload.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message_ids")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[",(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId"),"]"),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h3",{id:"returns-1"},"Returns"),(0,i.kt)("p",null,"A vector of ",(0,i.kt)("a",{parentName:"p",href:"#Message"},"Message")," Object."),(0,i.kt)("h2",{id:"get_unspent_address"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_unspent_address()")),(0,i.kt)("p",null,"Return a valid unspent public Bech32 encoded address."),(0,i.kt)("h3",{id:"parameters-4"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"seed")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#Seed"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed we want to use.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"account_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index, responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"initial_address_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Start index of the addresses to search. Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")))),(0,i.kt)("h3",{id:"return-2"},"Return"),(0,i.kt)("p",null,"Return a tuple with type of ",(0,i.kt)("inlineCode",{parentName:"p"},"(String, usize)")," as the address and corresponding index in the account."),(0,i.kt)("h3",{id:"implementation-details-1"},"Implementation Details"),(0,i.kt)("p",null,"Following are the steps for implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Start generating addresses with given account index and starting index. We will have a default ",(0,i.kt)("a",{parentName:"li",href:"https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1"},"gap limit")," of 20 at a time;"),(0,i.kt)("li",{parentName:"ul"},"Check for balances on the generated addresses using ",(0,i.kt)("a",{parentName:"li",href:"#find_outputs"},(0,i.kt)("inlineCode",{parentName:"a"},"find_outputs()"))," and keep track of the positive balances;"),(0,i.kt)("li",{parentName:"ul"},"Repeat the above step till there's an unspent address found;"),(0,i.kt)("li",{parentName:"ul"},"Return the address with corresponding index on the wallet chain;")),(0,i.kt)("h2",{id:"get_addresses"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_addresses()")),(0,i.kt)("p",null,"Return a list of addresses from the seed regardless of their validity."),(0,i.kt)("h3",{id:"parameters-5"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"seed")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#Seed"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed we want to search for.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"account_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index, responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"range")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"None"),(0,i.kt)("td",{parentName:"tr",align:null},"std::ops::Range"),(0,i.kt)("td",{parentName:"tr",align:null},"Range indices of the addresses we want to search for. Default is (0..20)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"get_all")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Get public and ",(0,i.kt)("a",{parentName:"td",href:"https://bitcoin.stackexchange.com/questions/75033/bip44-and-change-addresses"},"change addresses"),". Will return Vec<(","[String]",", bool)>, where the bool is indicating whether it's a change address")))),(0,i.kt)("h3",{id:"return-3"},"Return"),(0,i.kt)("p",null,"Vec<","[String]",">, with the public addresses"),(0,i.kt)("h2",{id:"get_balance"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_balance()")),(0,i.kt)("p",null,"Return the balance for a provided seed and its wallet account index."),(0,i.kt)("h3",{id:"parameters-6"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"seed")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#Seed"},"Seed")),(0,i.kt)("td",{parentName:"tr",align:null},"The seed we want to search for.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"account_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The account index, responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/\u2718'/0'/0'"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"initial_address_index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"0"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"Start index from which to generate addresses. Default is 0. Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"td"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"td"},"m/44'/4218'/0'/0'/\u2718'"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"gap_limit")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"20"),(0,i.kt)("td",{parentName:"tr",align:null},"usize"),(0,i.kt)("td",{parentName:"tr",align:null},"The gap limit specifies how many addresses will be checked each round. If gap_limit amount of addresses in a row have no balance the function will return.")))),(0,i.kt)("h3",{id:"return-4"},"Return"),(0,i.kt)("p",null,"Total account balance."),(0,i.kt)("h3",{id:"implementation-details-2"},"Implementation Details"),(0,i.kt)("p",null,"Following are the steps for implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Start generating addresses with given wallet account index and starting index. We will have a default ",(0,i.kt)("a",{parentName:"li",href:"https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1"},"gap limit")," of 20 at a time;"),(0,i.kt)("li",{parentName:"ul"},"Check for balances on the generated addresses using ",(0,i.kt)("a",{parentName:"li",href:"#find_outputs"},(0,i.kt)("inlineCode",{parentName:"a"},"find_outputs()"))," and keep track of the positive balances;"),(0,i.kt)("li",{parentName:"ul"},"Repeat the above step till an address of zero balance is found;"),(0,i.kt)("li",{parentName:"ul"},"Accumulate the positive balances and return the result.")),(0,i.kt)("h2",{id:"get_address_balances"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_address_balances()")),(0,i.kt)("p",null,"Return the balance in iota for the given addresses; No seed or security level needed to do this since we are only checking and already know the addresses."),(0,i.kt)("h3",{id:"parameters-7"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"addresses")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[","[String]","]"),(0,i.kt)("td",{parentName:"tr",align:null},"List of Bech32 encoded addresses.")))),(0,i.kt)("h3",{id:"return-5"},"Return"),(0,i.kt)("p",null,"A list of tuples with value of ",(0,i.kt)("a",{parentName:"p",href:"#AddressBalancePair"},"AddressBalancePair"),". The usize is the balance of the address accordingly."),(0,i.kt)("h3",{id:"implementation-details-3"},"Implementation details:"),(0,i.kt)("p",null,"Following are the steps for implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Validate ",(0,i.kt)("em",{parentName:"li"},"address")," semantics;"),(0,i.kt)("li",{parentName:"ul"},"Get latest balance for the provided address using ",(0,i.kt)("a",{parentName:"li",href:"#find_outputs"},(0,i.kt)("inlineCode",{parentName:"a"},"find_outputs()"))," with addresses as parameter;"),(0,i.kt)("li",{parentName:"ul"},"Return the list of Output which contains corresponding pairs of address and balance.")),(0,i.kt)("h2",{id:"generate_mnemonic"},(0,i.kt)("inlineCode",{parentName:"h2"},"generate_mnemonic()")),(0,i.kt)("p",null,"Returns a random generated Bip39 mnemonic with the English word list."),(0,i.kt)("h3",{id:"return-6"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h2",{id:"mnemonic_to_hex_seedmnemonic"},(0,i.kt)("inlineCode",{parentName:"h2"},"mnemonic_to_hex_seed(mnemonic)")),(0,i.kt)("p",null,"Returns the seed hex encoded."),(0,i.kt)("h3",{id:"parameters-8"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"mnemonic")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bip39 mnemonic with words from the English word list.")))),(0,i.kt)("h3",{id:"return-7"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h2",{id:"bech32_to_hex"},(0,i.kt)("inlineCode",{parentName:"h2"},"bech32_to_hex()")),(0,i.kt)("p",null,"Returns a parsed hex String from bech32."),(0,i.kt)("h3",{id:"parameters-9"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"bech32")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bech32 encoded address.")))),(0,i.kt)("h3",{id:"return-8"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h2",{id:"hex_to_bech32"},(0,i.kt)("inlineCode",{parentName:"h2"},"hex_to_bech32()")),(0,i.kt)("p",null,"Returns a parsed bech32 String from hex."),(0,i.kt)("h3",{id:"parameters-10"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"hex")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Hex encoded address.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"bech32_hrp")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[Option",(0,i.kt)(k,{mdxType:"String"}),"]"),(0,i.kt)("td",{parentName:"tr",align:null},"Optional bech32 hrp.")))),(0,i.kt)("h3",{id:"return-9"},"Return"),(0,i.kt)("p",null,"Parsed ","[String]","."),(0,i.kt)("h2",{id:"parse_bech32_address"},(0,i.kt)("inlineCode",{parentName:"h2"},"parse_bech32_address()")),(0,i.kt)("p",null,"Returns a valid Address parsed from a String."),(0,i.kt)("h3",{id:"parameters-11"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"address")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bech32 encoded address.")))),(0,i.kt)("h3",{id:"return-10"},"Return"),(0,i.kt)("p",null,"Parsed ",(0,i.kt)("a",{parentName:"p",href:"#Address"},"Address"),"."),(0,i.kt)("h2",{id:"is_address_valid"},(0,i.kt)("inlineCode",{parentName:"h2"},"is_address_valid()")),(0,i.kt)("h3",{id:"parameters-12"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"address")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"Bech32 encoded address.")))),(0,i.kt)("h3",{id:"return-11"},"Return"),(0,i.kt)("p",null,"A boolean showing if the address is valid."),(0,i.kt)("h2",{id:"subscriber"},(0,i.kt)("inlineCode",{parentName:"h2"},"subscriber()")),(0,i.kt)("p",null,"Subscribe to a node event ",(0,i.kt)("a",{parentName:"p",href:"#Topic"},"Topic")," (MQTT)"),(0,i.kt)("p",null,"Required: one of"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"topic()"),": Add a new ",(0,i.kt)("a",{parentName:"p",href:"#Topic"},"Topic")," to the list.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"topics()"),": Add a vector of ",(0,i.kt)("a",{parentName:"p",href:"#Topic"},"Topic")," to the list.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"subscribe()"),": Subscribe to the given topics with the callback, which will be called every time when the topic is detected.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"unsubscribe()"),": Unsubscribes from all subscriptions.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"disconnect()"),": Disconnects the broker. This will clear the stored topic handlers and close the MQTT connection."))),(0,i.kt)("h3",{id:"returns-2"},"Returns"),(0,i.kt)("p",null,"Nothing apart from a Ok(()) result if successful"),(0,i.kt)("h2",{id:"retry"},(0,i.kt)("inlineCode",{parentName:"h2"},"retry()")),(0,i.kt)("p",null,"Retries (promotes or reattaches) a message for provided ",(0,i.kt)("a",{parentName:"p",href:"#MessageId"},"MessageId")," if the node suggests it. The need to use this function should be low, because the confirmation throughput of the node is expected to be quite high."),(0,i.kt)("h3",{id:"parameters-13"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h3",{id:"returns-3"},"Returns:"),(0,i.kt)("p",null,"A tuple with the newly promoted or reattached ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId,  Message)"),"."),(0,i.kt)("h3",{id:"implementation-details-4"},"Implementation Details"),(0,i.kt)("p",null,"Following are the steps for implementing this method:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Only unconfirmed messages should be allowed to retry. The method should validate the confirmation state of the provided messages. If a message id of a confirmed message is provided, the method should error out;"),(0,i.kt)("li",{parentName:"ul"},"The method should also validate if a retry is necessary. This can be done by leveraging the ",(0,i.kt)("inlineCode",{parentName:"li"},"/messages/{messageId}/metadata")," endpoint (already available through ",(0,i.kt)("a",{parentName:"li",href:"#get_message"},"get_message"),"). See ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/iotaledger/trinity-wallet/blob/develop/src/shared/libs/iota/transfers.js#L105-L131"},"this")," implementation for reference;"),(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("a",{parentName:"li",href:"#reattach"},"reattach")," or ",(0,i.kt)("a",{parentName:"li",href:"#promote"},"promote")," accordingly.")),(0,i.kt)("h2",{id:"retry_until_included"},(0,i.kt)("inlineCode",{parentName:"h2"},"retry_until_included()")),(0,i.kt)("p",null,"Retries (promotes or reattaches) a message for provided ",(0,i.kt)("a",{parentName:"p",href:"#MessageId"},"MessageId")," until it's included (referenced by a milestone). Default interval is 5 seconds and max attempts is 40. The need to use this function should be low, because the confirmation throughput of the node is expected to be quite high."),(0,i.kt)("h3",{id:"parameters-14"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[&MessageId]"),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"interval")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Option","<","u64>"),(0,i.kt)("td",{parentName:"tr",align:null},"The interval in which we retry the message.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"max_attempts")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"Option","<","u64>"),(0,i.kt)("td",{parentName:"tr",align:null},"The maximum of attempts we retry the message.")))),(0,i.kt)("h3",{id:"returns-4"},"Returns:"),(0,i.kt)("p",null,"An array of tuples with the newly reattached ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId,  Message)"),"."),(0,i.kt)("h2",{id:"consolidate_funds"},(0,i.kt)("inlineCode",{parentName:"h2"},"consolidate_funds()")),(0,i.kt)("p",null,"Function to consolidate all funds from a range of addresses to the address with the lowest index in that range"),(0,i.kt)("h3",{id:"parameters-15"},"Parameters"),(0,i.kt)("p",null,"| Parameter         | Type          | Definition                                                                                                                                                             |\n| ----------------- | ------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |  |\n| ",(0,i.kt)("strong",{parentName:"p"},"seed"),"          | ",(0,i.kt)("a",{parentName:"p",href:"#Seed"},"Seed"),"        | The seed we want to search for.                                                                                                                                        |\n| ",(0,i.kt)("strong",{parentName:"p"},"account_index")," | usize         | The account index, responsible for the value ",(0,i.kt)("inlineCode",{parentName:"p"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"p"},"m/44'/4218'/\u2718'/0'/0'"),".                                                                              |\n| ",(0,i.kt)("strong",{parentName:"p"},"address_range")," | Range",(0,i.kt)("usize",null)," | Range from which to generate public and internal addresses from which to consolidate the funds. Responsible for the value ",(0,i.kt)("inlineCode",{parentName:"p"},"\u2718")," in the Bip32Path ",(0,i.kt)("inlineCode",{parentName:"p"},"m/44'/4218'/0'/0'/\u2718'"),". |"),(0,i.kt)("h3",{id:"returns-5"},"Returns:"),(0,i.kt)("p",null,"The address to which the funds got consolidated."),(0,i.kt)("h2",{id:"reattach"},(0,i.kt)("inlineCode",{parentName:"h2"},"reattach()")),(0,i.kt)("p",null,"Depends on ",(0,i.kt)("a",{parentName:"p",href:"#find_messages"},"find_messages"),", ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message")," and ",(0,i.kt)("a",{parentName:"p",href:"#post_message"},"post_message"),"."),(0,i.kt)("p",null,"Reattaches a message. The method should validate if a reattachment is necessary through ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message"),". If not, the method should error out and should not allow unnecessary reattachments."),(0,i.kt)("h3",{id:"parameters-16"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h3",{id:"returns-6"},"Returns"),(0,i.kt)("p",null,"A tuple with the newly reattached ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId,  Message)"),"."),(0,i.kt)("h2",{id:"promote"},(0,i.kt)("inlineCode",{parentName:"h2"},"promote()")),(0,i.kt)("p",null,"Depends on ",(0,i.kt)("a",{parentName:"p",href:"#find_messages"},"find_messages"),", ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message")," and ",(0,i.kt)("a",{parentName:"p",href:"#post_message"},"post_message"),"."),(0,i.kt)("p",null,"Promotes a message. The method should validate if a promotion is necessary through ",(0,i.kt)("a",{parentName:"p",href:"#get_message"},"get_message"),". If not, the method should error out and should not allow unnecessary promotions."),(0,i.kt)("h3",{id:"parameters-17"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#MessageId"},"MessageId")),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of message.")))),(0,i.kt)("h3",{id:"returns-7"},"Returns"),(0,i.kt)("p",null,"A tuple with the newly promoted ",(0,i.kt)("inlineCode",{parentName:"p"},"(MessageId,  Message)"),"."),(0,i.kt)("h1",{id:"full-node-api"},"Full node API"),(0,i.kt)("p",null,"Full node API of Bee and HORNET will still be public. Users who know these relative low level Restful API can still call them directly if they are confident and think it\u2019s good for them. Note that both Bee and HORNET haven't finalized their APIs either. Following items and signatures might change later."),(0,i.kt)("h2",{id:"get_health"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_health()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /health"),")"),(0,i.kt)("p",null,"Returns the health of the node, which can be used for load-balancing or uptime monitoring."),(0,i.kt)("h3",{id:"parameters-18"},"Parameters"),(0,i.kt)("p",null,"None"),(0,i.kt)("h3",{id:"returns-8"},"Returns"),(0,i.kt)("p",null,"Boolean to indicate if node is healthy."),(0,i.kt)("h2",{id:"get_peers"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_peers()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /peers"),")"),(0,i.kt)("p",null,"Get information about the peers of the node."),(0,i.kt)("h3",{id:"parameters-19"},"Parameters"),(0,i.kt)("p",null,"None"),(0,i.kt)("h3",{id:"returns-9"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},'pub struct PeerDto {\n    pub id: String,\n    #[serde(rename = "multiAddresses")]\n    pub multi_addresses: Vec<String/>,\n    pub alias: Option<String/>,\n    pub relation: RelationDto,\n    pub connected: bool,\n    pub gossip: Option<GossipDto/>,\n}\n')),(0,i.kt)("h2",{id:"get_info"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_info()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /api/v1/info"),")"),(0,i.kt)("p",null,"Returns information about the node."),(0,i.kt)("h3",{id:"parameters-20"},"Parameters"),(0,i.kt)("p",null,"None"),(0,i.kt)("h3",{id:"returns-10"},"Returns"),(0,i.kt)("p",null,"A Response Object similar to this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct NodeInfoWrapper {\n    pub nodeinfo: NodeInfo,\n    pub url: String,\n}\npub struct NodeInfo {\n    pub name: String,\n    pub version: String,\n    pub is_healthy: bool,\n    pub network_id: String,\n    pub latest_milestone_index: usize,\n    pub min_pow_score: f64,\n    pub messages_per_second: f64,\n    pub referenced_messages_per_second: f64,\n    pub referenced_rate: f64,\n    pub latest_milestone_timestamp: u64,\n    pub confirmed_milestone_index: usize,\n    pub pruning_index: usize,\n    pub features: Vec<String/>,\n}\n")),(0,i.kt)("h2",{id:"get_tips"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_tips()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /tips"),")"),(0,i.kt)("p",null,"Returns two non-lazy tips. In case the node can only provide one tip, tip1 and tip2 are identical."),(0,i.kt)("h3",{id:"parameters-21"},"Parameters"),(0,i.kt)("p",null,"None"),(0,i.kt)("h3",{id:"returns-11"},"Returns"),(0,i.kt)("p",null,"A tuple with two ",(0,i.kt)("a",{parentName:"p",href:"#MessageId"},"MessageId"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"(MessageId, MessageId)\n")),(0,i.kt)("h2",{id:"post_message"},(0,i.kt)("inlineCode",{parentName:"h2"},"post_message()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"POST /message"),")"),(0,i.kt)("p",null,"Submit a message. The node takes care of missing fields and tries to build the message. On success, the message will be stored in the Tangle. This endpoint will return the identifier of the message."),(0,i.kt)("h3",{id:"parameters-22"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"message")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"#Message"},"Message")),(0,i.kt)("td",{parentName:"tr",align:null},"The message object.")))),(0,i.kt)("h3",{id:"returns-12"},"Returns"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"#MessageId"},"MessageId")," of the message object."),(0,i.kt)("h2",{id:"get_output"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_output()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /outputs"),")"),(0,i.kt)("p",null,"Get the producer of the output, the corresponding address, amount and spend status of an output. This information can only be retrieved for outputs which are part of a confirmed transaction."),(0,i.kt)("h3",{id:"parameters-23"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"output_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"UtxoInput"),(0,i.kt)("td",{parentName:"tr",align:null},"Identifier of the output.")))),(0,i.kt)("h3",{id:"returns-13"},"Returns"),(0,i.kt)("p",null,"An ",(0,i.kt)("a",{parentName:"p",href:"#OutputMetadata"},"OutputMetadata")," that contains various information about the output."),(0,i.kt)("h2",{id:"get_address"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_address()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /addresses"),")"),(0,i.kt)("h3",{id:"parameters-24"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"address")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[String]"),(0,i.kt)("td",{parentName:"tr",align:null},"The address to search for.")))),(0,i.kt)("h3",{id:"returns-14"},"Returns"),(0,i.kt)("p",null,"Depend on the final calling method, users could get different outputs they need:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"balance()"),": Return confirmed balance of the address."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"outputs([options])"),": Return UtxoInput array (transaction IDs with corresponding output index).")),(0,i.kt)("h2",{id:"find_outputs"},(0,i.kt)("inlineCode",{parentName:"h2"},"find_outputs()")),(0,i.kt)("p",null,"Find all outputs based on the requests criteria."),(0,i.kt)("h3",{id:"parameters-25"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"output_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[UtxoInput]"),(0,i.kt)("td",{parentName:"tr",align:null},"The identifier of output.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"addresses")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2718"),(0,i.kt)("td",{parentName:"tr",align:null},"[","[String]","]"),(0,i.kt)("td",{parentName:"tr",align:null},"The Bech32 encoded address.")))),(0,i.kt)("h3",{id:"returns-15"},"Returns"),(0,i.kt)("p",null,"A vector of ",(0,i.kt)("a",{parentName:"p",href:"#OutputMetadata"},"OutputMetadata"),"."),(0,i.kt)("h2",{id:"get_milestone"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_milestone()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /milestones"),")"),(0,i.kt)("p",null,"Get the milestone by the given index."),(0,i.kt)("h3",{id:"parameters-26"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"u32"),(0,i.kt)("td",{parentName:"tr",align:null},"Index of the milestone.")))),(0,i.kt)("h3",{id:"returns-16"},"Returns"),(0,i.kt)("p",null,"An ",(0,i.kt)("a",{parentName:"p",href:"#Milestone"},"Milestone")," object."),(0,i.kt)("h2",{id:"get_milestone_utxo_changes"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_milestone_utxo_changes()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /milestones/{}/utxo-changes"),")"),(0,i.kt)("p",null,"Get all UTXO changes of a given milestone."),(0,i.kt)("h3",{id:"parameters-27"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"index")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"u32"),(0,i.kt)("td",{parentName:"tr",align:null},"Index of the milestone.")))),(0,i.kt)("h3",{id:"returns-17"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"MilestoneUTXOChanges {\n    index: 1,\n    created_outputs: [],\n    consumed_outputs: [],\n}\n")),(0,i.kt)("h2",{id:"get_receipts"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_receipts()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /receipts"),")"),(0,i.kt)("p",null,"Get all receipts."),(0,i.kt)("h3",{id:"returns-18"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"Vec<ReceiptDto/>\n")),(0,i.kt)("h2",{id:"get_receipts_migrated_at"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_receipts_migrated_at()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /receipts/{migratedAt}"),")"),(0,i.kt)("p",null,"Get all receipts for a given milestone index."),(0,i.kt)("h3",{id:"returns-19"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"Vec<ReceiptDto/>\n")),(0,i.kt)("h2",{id:"get_treasury"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_treasury()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /treasury"),")"),(0,i.kt)("p",null,"Get the treasury amount."),(0,i.kt)("h3",{id:"returns-20"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},'pub struct TreasuryResponse {\n    #[serde(rename = "milestoneId")]\n    milestone_id: String,\n    amount: u64,\n}\n')),(0,i.kt)("h2",{id:"get_included_message"},(0,i.kt)("inlineCode",{parentName:"h2"},"get_included_message()")),(0,i.kt)("p",null,"(",(0,i.kt)("inlineCode",{parentName:"p"},"GET /transactions/{transactionId}/included-message"),")"),(0,i.kt)("p",null,"Get the included message of the transaction."),(0,i.kt)("h3",{id:"parameters-28"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Definition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"transaction_id")),(0,i.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,i.kt)("td",{parentName:"tr",align:null},"[TransactionId]"),(0,i.kt)("td",{parentName:"tr",align:null},"The id of the transaction.")))),(0,i.kt)("h3",{id:"returns-21"},"Returns"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"struct Message {\n    parents: Vec<MessageId/>,\n    payload: Option<Payload/>,\n    nonce: u64,\n}\n")),(0,i.kt)("h1",{id:"objects"},"Objects"),(0,i.kt)("p",null,"Here are the objects used in the API above. They aim to provide a secure way to handle certain data structures specified in the Iota stack."),(0,i.kt)("h2",{id:"messageid"},(0,i.kt)("inlineCode",{parentName:"h2"},"MessageId")),(0,i.kt)("p",null,"MessageId is a 32 bytes array which can represent as hex string."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"struct MessageId([u8; MESSAGE_ID_LENGTH]);\n")),(0,i.kt)("h2",{id:"seed"},(0,i.kt)("inlineCode",{parentName:"h2"},"Seed")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub enum Seed {\n    /// Ed25519 variant\n    Ed25519(Ed25519Seed)\n}\n")),(0,i.kt)("p",null,"An IOTA seed that inner structure is omitted. Users can create this type by passing a String. It will verify and return an error if it\u2019s not valid. |"),(0,i.kt)("h2",{id:"message-1"},(0,i.kt)("inlineCode",{parentName:"h2"},"Message")),(0,i.kt)("p",null,"The message object returned by various functions; based on the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/GalRogozinski/protocol-rfcs/blob/message/text/0017-message/0017-message.md"},"RFC")," for the Message object. Here's the brief overview of each components in Message type would look like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"struct Message {\n    parents: Vec<MessageId/>,\n    payload: Option<Payload/>,\n    nonce: u64,\n}\n\nenum Payload {\n    Transaction(Box<Transaction/>),\n    Milestone(Box<Milestone/>),\n    Indexation(Box<Indexation/>),\n}\n\nstruct Transaction {\n    pub essence: TransactionPayloadEssence,\n    pub unlock_blocks: Vec<UnlockBlock/>,\n}\n\nstruct Milestone {\n    essence: MilestoneEssence,\n    signatures: Vec<Box<[u8]>>,\n}\n\nstruct Indexation {\n    index: String,\n    data: Box<[u8]>,\n}\n\nstruct TransactionPayloadEssence {\n    pub(crate) inputs: Box<[Input]>,\n    pub(crate) outputs: Box<[Output]>,\n    pub(crate) payload: Option<Payload/>,\n}\n\nenum Input {\n    UTXO(UtxoInput(OutputId)),\n}\n\nstruct OutputId {\n    transaction_id: TransactionId,\n    index: u16,\n}\n\nenum Output {\n    SignatureLockedSingle(SignatureLockedSingleOutput),\n}\n\nstruct SignatureLockedSingleOutput {\n    address: Address,\n    amount: u64,\n}\n\nenum UnlockBlock {\n    Signature(SignatureUnlock),\n    Reference(ReferenceUnlock),\n}\n\nenum SignatureUnlock {\n    Ed25519(Ed25519Signature),\n}\n\nstruct Ed25519Signature {\n    public_key: [u8; 32],\n    signature: Box<[u8]>,\n}\n\nstruct ReferenceUnlock(u16);\n")),(0,i.kt)("h2",{id:"messagemetadata"},(0,i.kt)("inlineCode",{parentName:"h2"},"MessageMetadata")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct MessageMetadata {\n    /// Message ID\n    pub message_id: String,\n    /// Message IDs of parents\n    pub parents: Vec<String/>,\n    /// Solid status\n    pub is_solid: bool,\n    /// Should promote\n    pub should_promote: Option<bool/>,\n    /// Should reattach\n    pub should_reattach: Option<bool/>,\n    /// Referenced by milestone index\n    pub referenced_by_milestone_index: Option<u32>,\n    /// Ledger inclusion state\n    pub ledger_inclusion_state: Option<String/>,\n}\n")),(0,i.kt)("h2",{id:"outputmetadata"},(0,i.kt)("inlineCode",{parentName:"h2"},"OutputMetadata")),(0,i.kt)("p",null,"The metadata of an output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct OutputMetadata {\n    /// Message ID of the output\n    pub message_id: Vec<u8>,\n    /// Transaction ID of the output\n    pub transaction_id: Vec<u8>,\n    /// Output index.\n    pub output_index: u16,\n    /// Spend status of the output\n    pub is_spent: bool,\n    /// Corresponding address\n    pub address: Address,\n    /// Balance amount\n    pub amount: u64,\n}\n")),(0,i.kt)("h2",{id:"address"},(0,i.kt)("inlineCode",{parentName:"h2"},"Address")),(0,i.kt)("p",null,"An Ed25519 address can be encoded in Bech32 or Hex, with Bech32 being preferred and also used in most functions."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub enum Address {\n    Ed25519(Ed25519Address),\n}\n")),(0,i.kt)("h2",{id:"addressbalancepair"},(0,i.kt)("inlineCode",{parentName:"h2"},"AddressBalancePair")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub struct AddressBalancePair {\n    /// Address, bech32 encoded\n    pub address: String,\n    /// Balance in the address\n    pub balance: u64,\n    /// If dust is allowed on the address\n    pub dust_allowed: bool,\n}\n")),(0,i.kt)("h2",{id:"milestone"},(0,i.kt)("inlineCode",{parentName:"h2"},"Milestone")),(0,i.kt)("p",null,"A milestone metadata."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct MilestoneMetadata {\n    /// Milestone index\n    pub milestone_index: u32,\n    /// Milestone ID\n    pub message_id: String,\n    /// Timestamp\n    pub timestamp: u64,\n}\n")),(0,i.kt)("h2",{id:"api"},(0,i.kt)("inlineCode",{parentName:"h2"},"Api")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},"pub enum Api {\n    /// `get_health` API\n    GetHealth,\n    /// `get_info`API\n    GetInfo,\n    /// `get_tips` API\n    GetTips,\n    /// `post_message` API\n    PostMessage,\n    /// `post_message` API with remote pow\n    PostMessageWithRemotePow,\n    /// `get_output` API\n    GetOutput,\n    /// `get_milestone` API\n    GetMilestone,\n}\n")),(0,i.kt)("h2",{id:"brokeroptions"},(0,i.kt)("inlineCode",{parentName:"h2"},"BrokerOptions")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Rust"},'pub struct BrokerOptions {\n    #[serde(default = "default_broker_automatic_disconnect", rename = "automaticDisconnect")]\n    pub(crate) automatic_disconnect: bool,\n    #[serde(default = "default_broker_timeout")]\n    pub(crate) timeout: std::time::Duration,\n    #[serde(rename = "maxReconnectionAttempts", default)]\n    pub(crate) max_reconnection_attempts: usize,\n}\n')),(0,i.kt)("h2",{id:"topic"},(0,i.kt)("inlineCode",{parentName:"h2"},"Topic")),(0,i.kt)("p",null,"A string with the exact MQTT topic to monitor, can have one of the following variations:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"milestones/latest\nmilestones/confirmed\n\nmessages\nmessages/referenced\nmessages/indexation/{index}\nmessages/{messageId}/metadata\ntransactions/{transactionId}/included-message\n\noutputs/{outputId}\n\naddresses/{address}/outputs\naddresses/ed25519/{address}/outputs\n")))}h.isMDXComponent=!0},3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return k}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),o=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=o(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),m=o(a),k=r,g=m["".concat(s,".").concat(k)]||m[k]||u[k]||l;return a?n.createElement(g,i(i({ref:t},p),{},{components:a})):n.createElement(g,i({ref:t},p))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:r,i[1]=d;for(var o=2;o<l;o++)i[o]=a[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);