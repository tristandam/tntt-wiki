"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[50185],{91575:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var n=a(83117),r=a(80102),o=(a(67294),a(3905)),i=["components"],l={},s=void 0,c={unversionedId:"data-marketplace/architecture",id:"data-marketplace/architecture",title:"architecture",description:"The Data Marketplace application uses sensors, a cloud backend, and the IOTA Tangle to publish data to MAM channels.",source:"@site/external/blueprints/data-marketplace/architecture.md",sourceDirName:"data-marketplace",slug:"/data-marketplace/architecture",permalink:"/blueprints/data-marketplace/architecture",editUrl:"https://github.com/iotaledger/blueprints/edit/main/external/blueprints/data-marketplace/architecture.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"overview",permalink:"/blueprints/data-marketplace/overview"},next:{title:"deployment-and-testing",permalink:"/blueprints/data-marketplace/deployment-and-testing"}},d={},u=[{value:"Building Blocks",id:"building-blocks",level:2},{value:"Cloud Backend",id:"cloud-backend",level:3},{value:"Cloud Functions",id:"cloud-functions",level:4},{value:"Sensor MAM Channel",id:"sensor-mam-channel",level:3},{value:"Data Fields",id:"data-fields",level:4},{value:"Example Sensors",id:"example-sensors",level:4}],p={toc:u};function h(e){var t=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"application-architecture"},"Application Architecture"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The Data Marketplace application uses sensors, a cloud backend, and the IOTA Tangle to publish data to MAM channels.")),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),":Disclaimer")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Running an open source project, like any human endeavor, involves uncertainty and trade-offs. We hope the architecture described below helps you to deploy similar systems, but it may include mistakes, and can\u2019t address every situation. If you have any questions about your project, we encourage you to do your own research, seek out experts, and discuss them with the IOTA community."))),(0,o.kt)("p",null,"This blueprint uses the following architecture whereby the devices such as sensors and the cloud backend are interconnected through the Tangle."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Data Marketplace architecture",src:a(46095).Z,width:"741",height:"511"})),(0,o.kt)("h2",{id:"building-blocks"},"Building Blocks"),(0,o.kt)("p",null,"Submitting sensor data to the Data Marketplace is intended to be a lightweight operation that can be done by embedded devices. To submit sensor data, a device needs to perform Tangle operations, such as producing and consuming MAM channels, and communicating with web APIs. The data consuming part of the application is more complex and needs the ability to transfer IOTA tokens in exchange for access to the device's data streams. Therefore, an access-rights management add-on is implemented."),(0,o.kt)("p",null,"This table displays a list of the main components of the application:"),(0,o.kt)("h3",{id:"cloud-backend"},"Cloud Backend"),(0,o.kt)("p",null,"The cloud part of the application is centralized. It runs on Google Cloud Platform, and can optionally run on Amazon AWS or Microsoft Azure."),(0,o.kt)("p",null,"This backend has an ","[API]",(0,o.kt)("a",{parentName:"p",href:"https://data.iota.org/static/docs"},"https://data.iota.org/static/docs"),") that allows you to manage devices and monitor the MAM channels to which devices send their data."),(0,o.kt)("h4",{id:"cloud-functions"},"Cloud Functions"),(0,o.kt)("p",null,"The API triggers cloud functions, which allow you to configure a Whitelist page, where administrator users with predefined email addresses are allowed to administer devices"),(0,o.kt)("h3",{id:"sensor-mam-channel"},"Sensor MAM Channel"),(0,o.kt)("p",null,"The device in the Data Marketplace are usually sensors that publish their data to the Tangle through MAM channels."),(0,o.kt)("h4",{id:"data-fields"},"Data Fields"),(0,o.kt)("p",null,"For each of your sensors, you have to define the correct data fields, which will be stored in the Tangle, and displayed on the Data Marketplace web portal for the purchaser. In general, just be descriptive with the data that you want to store and sell."),(0,o.kt)("h4",{id:"example-sensors"},"Example Sensors"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.netatmo.com/en-us/weather"},"Netatmo Weather Station")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.bosch.com/products-and-services/sdks/xdk"},"Bosch XDK")," "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.nordicsemi.com/Software-and-Tools/Development-Tools/Nordic-Thingy-52-App"},"Nordic Semiconductor Thingy:52")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.adafruit.com/product/2733"},"Raspberry Pi with a sensor kit"))))}h.isMDXComponent=!0},46095:function(e,t,a){t.Z=a.p+"assets/images/data-marketplace-architecture-66bf60540bd69bdc8a6c7a6ae95b4526.png"},3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return h}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(a),h=r,m=p["".concat(s,".").concat(h)]||p[h]||u[h]||o;return a?n.createElement(m,i(i({ref:t},d),{},{components:a})):n.createElement(m,i({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);